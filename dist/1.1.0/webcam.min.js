"use strict";!function(){navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.hasUserMedia=function(){return navigator.getMedia?!0:!1}}(),angular.module("webcam",[]).directive("webcam",function(){return{template:'<div class="webcam" ng-transclude></div>',restrict:"E",replace:!0,transclude:!0,scope:{onError:"&",onStream:"&",onStreaming:"&",placeholder:"=",videoHeight:"=",videoWidth:"="},link:function(a,b){var c,d,e=function(){d&&"function"==typeof d.stop&&d.stop(),c&&delete c.src},f=function(){if(c=document.createElement("video"),c.setAttribute("class","webcam-live"),c.setAttribute("autoplay",""),b.append(c),a.placeholder){var d=document.createElement("img");d.setAttribute("class","webcam-loader"),d.src=a.placeholder,b.append(d)}},g=function(){e(),c.remove()};a.$on("$destroy",e),a.$on("START_WEBCAM",f),a.$on("STOP_WEBCAM",g),f()}}});